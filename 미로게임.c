#include <stdio.h>
#include <Windows.h>
#include <conio.h>

int map[20][20] = {
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 },
	{ 1, 3, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 1 },
	{ 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1 },
	{ 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1 },
	{ 1, 0, 0, 0, 1, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1 },
	{ 1, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1 },
	{ 1, 0, 1, 0, 1, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1 },
	{ 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1 },
	{ 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1 },
	{ 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 1 },
	{ 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1 },
	{ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1 },
	{ 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 1, 0, 1 },
	{ 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1 },
	{ 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 1 },
	{ 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 1 },
	{ 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1 },
	{ 1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1 },
	{ 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 1, 4, 1 },
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }
	};

void map_create() {
	int a,b;
	for (a=0;a<20;a++) {
		for (b=0;b<20;b++) {
			if(map[a][b] == 1) printf("¡à");
			else if(map[a][b] == 0) printf("  ");
			else if(map[a][b] == 3) printf("¡Ü");
			else if(map[a][b] == 4) printf("¡å");
		}
		printf("\n"); 
	}
}

void character(int x, int y) {
	map[x][y] = 3;
}

int main() {
	int ch_x = 1, ch_y = 1;
	int cmd = 0;
	
	while (1) {
		system("cls");
		character(ch_x, ch_y);
		map_create();
		_getch();
		cmd  = _getch();           // ¡æ(77)  ¡ç(75)  ¡è(72) ¡é(80) 
		
		if(cmd == 77 && map[ch_x][ch_y+1] == 0){
			map[ch_x][ch_y] = 0;
			ch_y++;
		}
		else if(cmd == 75 && map[ch_x][ch_y-1] == 0){
			map[ch_x][ch_y] = 0;
			ch_y--;
		}
		else if(cmd == 72 && map[ch_x-1][ch_y] == 0){
			map[ch_x][ch_y] = 0;
			ch_x--;
		}
		else if(cmd == 80 && map[ch_x+1][ch_y] == 0){
			map[ch_x][ch_y] = 0;
			ch_x++;
		}
		
		
		if(cmd == 77 && map[ch_x][ch_y+1] == 4){
			map[ch_x][ch_y] = 0;
			ch_y++;
			printf("CLEAR!!!!\n");
			break;
		}
		else if(cmd == 75 && map[ch_x][ch_y-1] == 4){
			map[ch_x][ch_y] = 0;
			ch_y--;
			printf("CLEAR!!!!\n");
			break;
		}
		else if(cmd == 72 && map[ch_x-1][ch_y] == 4){
			map[ch_x][ch_y] = 0;
			ch_x--;
			printf("CLEAR!!!!\n");
			break;
		}
		else if(cmd == 80 && map[ch_x+1][ch_y] == 4){
			map[ch_x][ch_y] = 0;
			ch_x++;
			printf("CLEAR!!!!\n");
			break;
		}
						
	}
}
